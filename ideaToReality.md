# 需求分析

## 有效沟通

- 明确分割问题与方案
  - 明确问题只需要用户和需求工程师的参与
  - 用户：遇到问题->自己想出一些解决方案，认定这些解决方案的实现需要工程师->向工程师描述自己的需求
  - 接收一个人的意见往往会让他获取被尊重的感觉，因此用户不会区分问题和自己想的解决方案，甚至不会描述自己的问题，而只讲解决方案，甚至希望工程师直接采用这个方案；
  - 需求收集最重要的原则就是区分问题和解决方案，用户所提出的解决方案往往不是解决问题的最优方案，需求收集最忌讳的就是讲解决方案；
  - 引导用户讲清楚问题，挖掘用户最开始遇到的问题是什么，而不是把用户所想的解决方案当作需求；
  - 一个问题的组成：
    - 谁在什么场景下使用这个需求，多久使用一次
    - 不完成这个需求谁会生气，多久生气一次
- 提出解决方案
  - 解决方案是开发人员针对所有问题设计的面向用户的系统，这个系统包括
  - 解决方案面向用户的效果，包括功能设计、UI和demo演示、非功能说明
  - 问题解决的重要性排序，包括实现顺序、时间和金钱成本
# 设计与测试

- 需求驱动前端，前端驱动接口，接口驱动后端；业务流程的数据流程决定前后端接口设计；
## 接口设计与白盒测试
- 接口的参数对象的状态、返回对象的状态/抛出异常的状态决定白盒测试数据集；
- 接口设计应遵从单一原则
  - 一个对象的职责包括：参数、返回正常的业务对象
  - 单一职责：从参数到返回数据的路径是唯一的
    - 负责业务逻辑的对象不应该处理异常
    - 一个对象的职责在语义上应该是单一的
  - 前后端都不应该期望对方能够约束参数的状态；信任意味着依赖；
- 接口是实现面向对象、面向测试、面向切面的基础，但是如果系统的复杂度不高，接口会是过度设计，将带来多余的工作；
  - 通过流程图、类图理清业务流程，使用AOP、OOP完成单一职责的设计

